(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var s={},i=[],a=0;a<n.length;a++){var l=n[a],c=o.base?l[0]+o.base:l[0],A=s[c]||0,d="".concat(c," ").concat(A);s[c]=A+1;var u=t(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var h=r(p,o);o.byIndex=a,e.splice(a,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var s=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<s.length;i++){var a=t(s[i]);e[a].references--}for(var l=o(n,r),c=0;c<s.length;c++){var A=t(s[c]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}s=l}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,s){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var c=0;c<n.length;c++){var A=[].concat(n[c]);o&&i[A[0]]||(void 0!==s&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=s),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),r&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=r):A[4]="".concat(r)),e.push(A))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),s="/*# ".concat(r," */");return[e].concat([s]).join("\n")}return[e].join("\n")}},421:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(354),r=t.n(o),s=t(314),i=t.n(s)()(r());i.push([n.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\ninput, button {\n    font: inherit;\n}\n\nbutton {\n    background-color: white;\n    border: none;\n}\n","",{version:3,sources:["webpack://./src/styles/normalize.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,UAAU;IACV,sBAAsB;AAC1B;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,uBAAuB;IACvB,YAAY;AAChB",sourcesContent:["* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\ninput, button {\n    font: inherit;\n}\n\nbutton {\n    background-color: white;\n    border: none;\n}\n"],sourceRoot:""}]);const a=i},463:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(354),r=t.n(o),s=t(314),i=t.n(s)()(r());i.push([n.id,".overflow-auto {\n    overflow: auto;\n}\n.overflow-clip {\n    overflow: clip;\n}\n\n.no-scrollbar {\n    scrollbar-width: none;\n}\n\n.w-16 {\n    width: calc(0.25rem * 16);\n}\n.h-16 {\n    height: calc(0.25rem * 16);\n}\n.h-25 {\n    height: calc(0.25rem * 25);\n}\n.h-screen {  \t\n    height: 100vh;\n}\n\n.relative {\n    position: relative;\n}\n.absolute {\n    position: absolute;\n}\n\n.flex {\n    display: flex;\n}\n\n.flex-col {\n    flex-direction: column;\n}\n\n.flex-auto {\n    flex: 1 1 auto;\n}\n\n.flex-none {\n    flex: none;\n}\n\n.grid {\n    display: grid;\n}\n.auto-cols-1fr {\n    grid-auto-columns: 1fr;\n}\n.grid-flow-col {\n    grid-auto-flow: column;\n}\n\n.place-content-center {\n    place-content: center;\n}\n\n.inset-0 {\n    inset: 0;\n}\n\n.p-4 {\n    padding: 1rem;\n}\n\n.gap-1 {\n    gap: 0.25rem;\n}\n.gap-4 {\n    gap: 1rem;\n}\n\n.text-xl {\n    font-size: 1.25rem;\n}\n.text-4xl {\n    font-size: 2.25rem;\n}\n\n.text-left {\n    text-align: left;\n}\n\n.font-bold {\n    font-weight: 700;\n}\n\n.line-through {\n    text-decoration-line: line-through;\n}\n\n.bg-white {\n    background-color: white;\n}\n.bg-black {\n    background-color: black;\n}\n\n.bg-yellow {\n    background-color: var(--yellow);\n}\n.bg-yellow-dark {\n    background-color: var(--yellow-dark);\n}\n.bg-yellow-light {\n    background-color: var(--yellow-light);\n}\n\n.text-yellow-dark {\n    color: var(--yellow-dark);\n}\n.text-yellow-light {\n    color: var(--yellow-light);\n}\n\n\n.border-2 {\n    border-width: 2px;\n}\n\n.border-4 {\n    border-width: 4px;\n}\n\n.border-black {\n    border-color: black;\n}\n\n.border-solid {\n    border-style: solid;\n}\n\n.rounded-full {\n    border-radius: 9999px;\n}\n.rounded-sm {\n    border-radius: 0.25rem;\n}\n\n.shadow-md {\n    filter: drop-shadow(8px 8px 0 currentColor); /* box-shadow clips on list */\n}\n\n.cursor-pointer {\n    cursor: pointer;\n}\n\n.pointer-events-none {\n    pointer-events: none;\n}\n\n.appearance-none {\n    appearance: none;\n}\n\n.darkenonhover:hover {\n    filter: brightness(0.9);\n}","",{version:3,sources:["webpack://./src/styles/utils.css"],names:[],mappings:"AAAA;IACI,cAAc;AAClB;AACA;IACI,cAAc;AAClB;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,yBAAyB;AAC7B;AACA;IACI,0BAA0B;AAC9B;AACA;IACI,0BAA0B;AAC9B;AACA;IACI,aAAa;AACjB;;AAEA;IACI,kBAAkB;AACtB;AACA;IACI,kBAAkB;AACtB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,aAAa;AACjB;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,sBAAsB;AAC1B;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,QAAQ;AACZ;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,YAAY;AAChB;AACA;IACI,SAAS;AACb;;AAEA;IACI,kBAAkB;AACtB;AACA;IACI,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI,uBAAuB;AAC3B;AACA;IACI,uBAAuB;AAC3B;;AAEA;IACI,+BAA+B;AACnC;AACA;IACI,oCAAoC;AACxC;AACA;IACI,qCAAqC;AACzC;;AAEA;IACI,yBAAyB;AAC7B;AACA;IACI,0BAA0B;AAC9B;;;AAGA;IACI,iBAAiB;AACrB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,qBAAqB;AACzB;AACA;IACI,sBAAsB;AAC1B;;AAEA;IACI,2CAA2C,EAAE,6BAA6B;AAC9E;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,uBAAuB;AAC3B",sourcesContent:[".overflow-auto {\n    overflow: auto;\n}\n.overflow-clip {\n    overflow: clip;\n}\n\n.no-scrollbar {\n    scrollbar-width: none;\n}\n\n.w-16 {\n    width: calc(0.25rem * 16);\n}\n.h-16 {\n    height: calc(0.25rem * 16);\n}\n.h-25 {\n    height: calc(0.25rem * 25);\n}\n.h-screen {  \t\n    height: 100vh;\n}\n\n.relative {\n    position: relative;\n}\n.absolute {\n    position: absolute;\n}\n\n.flex {\n    display: flex;\n}\n\n.flex-col {\n    flex-direction: column;\n}\n\n.flex-auto {\n    flex: 1 1 auto;\n}\n\n.flex-none {\n    flex: none;\n}\n\n.grid {\n    display: grid;\n}\n.auto-cols-1fr {\n    grid-auto-columns: 1fr;\n}\n.grid-flow-col {\n    grid-auto-flow: column;\n}\n\n.place-content-center {\n    place-content: center;\n}\n\n.inset-0 {\n    inset: 0;\n}\n\n.p-4 {\n    padding: 1rem;\n}\n\n.gap-1 {\n    gap: 0.25rem;\n}\n.gap-4 {\n    gap: 1rem;\n}\n\n.text-xl {\n    font-size: 1.25rem;\n}\n.text-4xl {\n    font-size: 2.25rem;\n}\n\n.text-left {\n    text-align: left;\n}\n\n.font-bold {\n    font-weight: 700;\n}\n\n.line-through {\n    text-decoration-line: line-through;\n}\n\n.bg-white {\n    background-color: white;\n}\n.bg-black {\n    background-color: black;\n}\n\n.bg-yellow {\n    background-color: var(--yellow);\n}\n.bg-yellow-dark {\n    background-color: var(--yellow-dark);\n}\n.bg-yellow-light {\n    background-color: var(--yellow-light);\n}\n\n.text-yellow-dark {\n    color: var(--yellow-dark);\n}\n.text-yellow-light {\n    color: var(--yellow-light);\n}\n\n\n.border-2 {\n    border-width: 2px;\n}\n\n.border-4 {\n    border-width: 4px;\n}\n\n.border-black {\n    border-color: black;\n}\n\n.border-solid {\n    border-style: solid;\n}\n\n.rounded-full {\n    border-radius: 9999px;\n}\n.rounded-sm {\n    border-radius: 0.25rem;\n}\n\n.shadow-md {\n    filter: drop-shadow(8px 8px 0 currentColor); /* box-shadow clips on list */\n}\n\n.cursor-pointer {\n    cursor: pointer;\n}\n\n.pointer-events-none {\n    pointer-events: none;\n}\n\n.appearance-none {\n    appearance: none;\n}\n\n.darkenonhover:hover {\n    filter: brightness(0.9);\n}"],sourceRoot:""}]);const a=i},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},919:(n,e,t)=>{t.d(e,{A:()=>A});var o=t(354),r=t.n(o),s=t(314),i=t.n(s),a=t(421),l=t(463),c=i()(r());c.i(a.A),c.i(l.A),c.push([n.id,":root {\n    --yellow: #FFF183;\n    --yellow-dark: #464222;\n    --yellow-light: #FFFBD9;\n    font-family: Inter, sans-serif;\n}\n","",{version:3,sources:["webpack://./src/styles/style.css"],names:[],mappings:"AAGA;IACI,iBAAiB;IACjB,sBAAsB;IACtB,uBAAuB;IACvB,8BAA8B;AAClC",sourcesContent:["@import url(normalize.css);\n@import url(utils.css);\n\n:root {\n    --yellow: #FFF183;\n    --yellow-dark: #464222;\n    --yellow-light: #FFFBD9;\n    font-family: Inter, sans-serif;\n}\n"],sourceRoot:""}]);const A=c}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={id:o,exports:{}};return n[o](s,s.exports,t),s.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var o=t(72),r=t.n(o),s=t(825),i=t.n(s),a=t(659),l=t.n(a),c=t(56),A=t.n(c),d=t(540),u=t.n(d),p=t(113),h=t.n(p),m=t(919),f={};f.styleTagTransform=h(),f.setAttributes=A(),f.insert=l().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=u(),r()(m.A,f),m.A&&m.A.locals&&m.A.locals;class g{static importances={HIGH:"high",MEDIUM:"medium",LOW:"low"};#n;#e;#t;#o;#r=new Set;#s;get data(){return{title:this.title,description:this.description,dueDate:this.dueDate,importance:this.importance,tagList:this.tagList,isDone:this.isDone}}constructor({title:n,isDone:e=!1,description:t,dueDate:o,importance:r,tagList:s=[]}){this.title=n,this.isDone=e,this.description=t,this.dueDate=o,this.importance=r,s.forEach(this.#r.add,this.#r)}emit=()=>{document.dispatchEvent(new Event("taskupdate"))};get title(){return this.#n}set title(n){this.#n=n,this.emit()}get isDone(){return this.#s}set isDone(n){this.#s=n,this.emit()}get description(){return this.#e}set description(n){this.#e=n,this.emit()}get dueDate(){return this.#t}set dueDate(n){this.#t=n,this.emit()}get importance(){return this.#o}set importance(n){if(!Object.values(g.importances).includes(n)&&void 0!==n)throw new TypeError("Importance has to be one of Task.importances");this.#o=n,this.emit()}get tagList(){return[...this.#r]}hasTag(n){return this.#r.has(n)}addTag(n){this.#r.add(n),this.emit()}removeTag(n){this.#r.delete(n),this.emit()}}class C{static load(){const n=JSON.parse(localStorage.getItem("tasks"));return null===n?[]:n.map((n=>new g(n)))}static store(n){const e=[...n].map((n=>n.data));localStorage.setItem("tasks",JSON.stringify(e))}}const v=({isDone:n})=>{const e=document.createElement("div");return e.classList=`flex-none flex gap-4 ${n?"bg-yellow-light text-yellow-dark line-through":"bg-white"} p-4 border-2 border-solid shadow-md h-25 text-4xl font-bold`,e},b=()=>{const n=document.querySelector("#contextmenu");n&&n.parentElement.removeChild(n)},B=(n,e)=>{const t=v({isDone:n.isDone});t.classList.add("cursor-pointer"),t.onclick=()=>e(n);const o=(n=>{const e=document.createElement("h3");return e.textContent=n,e})(n.title),r=(({checked:n,onchange:e})=>{const t=document.createElement("div");t.classList="relative "+(n?"text-yellow-dark":"");const o=document.createElement("input");if(o.setAttribute("type","checkbox"),o.classList=`appearance-none cursor-pointer w-16 h-16 border-4 border-solid rounded-full ${n?"bg-yellow-dark":""} `,o.checked=n,t.appendChild(o),o.onclick=n=>n.stopPropagation(),o.onchange=n=>e(n.target.checked),!n)return t;const r=document.createElement("div");return r.classList="absolute inset-0 grid place-content-center text-yellow-light pointer-events-none",r.innerHTML='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9 25L20 36L38 13" stroke="currentColor" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n',t.appendChild(r),t})({checked:n.isDone,onchange:e=>n.isDone=e});return t.addEventListener("contextmenu",(e=>((n,e)=>{n.preventDefault(),b();const t=new AbortController,o=()=>{b(),t.abort()},r=((n,e)=>{const t=document.createElement("div");t.classList="absolute flex flex-col text-xl rounded-sm overflow-clip border-solid border-4 bg-black gap-1 shadow-md",t.id="contextmenu";const o=document.createElement("button");o.textContent="Delete",o.classList="darkenonhover text-left p-4",o.onclick=()=>{n.delete(),e()};const r=document.createElement("button");return r.textContent="Mark as"+(n.isDone?" not ":" ")+"done",r.classList="darkenonhover text-left p-4",r.onclick=()=>{n.isDone=!n.isDone,e()},t.append(o,r),t})(e,o);document.addEventListener("pointerdown",(n=>{document.elementsFromPoint(n.clientX,n.clientY).includes(r)||o()}),{signal:t.signal});const s=document.querySelector("#tasklist");r.style.left=n.clientX-s.offsetLeft+"px",r.style.top=n.clientY-s.offsetTop+"px",s.appendChild(r)})(e,n))),t.append(r,o),t},I=(n,e)=>{const t=document.createElement("div"),o=document.createElement("div");o.classList="flex flex-col gap-4",o.append(...e);const r=document.createElement("h2");return r.textContent=n,t.append(r,o),t},w=new class{#i=new Set;constructor(){const n=C.load();n&&n.forEach((n=>this.add(n))),document.addEventListener("taskupdate",this.save.bind(this))}save(){C.store(this.tasks),document.dispatchEvent(new Event("save"))}add(n){(n=n instanceof g?n:new g(n)).delete=()=>this.delete(n),this.#i.add(n),this.save()}delete(n){this.#i.delete(n),this.save()}getTasksWithTag(n){return void 0===n?this.tasks:[...this.tasks].filter((e=>e.hasTag(n)))}get tasks(){return this.#i}get tags(){return this.#i.reduce(((n,e)=>n.add(e.taglist)),new Set)}},x=new class{content=document.querySelector("#content");openTask=void 0;setOpenTask=n=>{this.openTask=this.openTask===n?void 0:n,this.render()};constructor(n){this.taskManager=n,document.addEventListener("save",this.render)}render=()=>{this.content.textContent="";const n=document.createElement("div");n.classList="grid auto-cols-1fr grid-flow-col";const e=((n,e)=>{const t=document.createElement("div");t.classList="bg-yellow flex flex-col gap-4 p-4 h-screen";const o=((n,e)=>{const t=[...n.tasks].filter((n=>!n.isDone)).map((n=>B(n,e))),o=[...n.tasks].filter((n=>n.isDone)).map((n=>B(n,e))),r=document.createElement("div");return r.classList="flex-auto overflow-auto no-scrollbar flex flex-col gap-4 relative",r.id="tasklist",0!==t.length&&r.append(I("to do",t)),0!==o.length&&r.append(I("done",o)),r})(n,e),r=(n=>{const e=v({isDone:!1});e.classList.add("shadow-md");const t=document.createElement("input"),o=document.createElement("button");return o.classList="w-16 h-16 border-4 border-solid rounded-sm darkenonhover cursor-pointer",o.onclick=()=>{const e=t.value.trim();""!==e&&n.add({title:e})},t.setAttribute("placeholder","Add task"),e.append(o,t),e})(n);return t.append(o,r),t})(this.taskManager,this.setOpenTask);if(n.append(e),this.openTask){const e=(({task:n})=>{const e=document.createElement("div"),t=document.createElement("h3");return t.textContent=n.title,e.append(t),e})({task:this.openTask});n.append(e)}this.content.append(n)}}(w);x.render()})();
//# sourceMappingURL=main.js.map